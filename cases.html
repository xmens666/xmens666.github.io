<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç•Œé¢å±•ç¤º - ZenCode ä½œå“é›†</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700;800&family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">

    <style>
        /* é˜²æ­¢æ‰‹æœºç«¯æ°´å¹³æ»šåŠ¨ */
        html, body {
            overflow-x: hidden;
            max-width: 100vw;
        }

        body {
            background-color: #0f1011;
            color: #ffffff;
        }

        /* Canvas èƒŒæ™¯åŠ¨ç”» */
        #wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        #wrapper canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #canvas {
            z-index: 1;
        }

        #canvasbg {
            z-index: -10;
            filter: blur(3px);
            opacity: 0.6;
        }

        .content-layer {
            position: relative;
            z-index: 10;
        }

        /* è·‘é©¬ç¯åŠ¨ç”» */
        .marquee-container {
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            overflow: hidden;
            width: 100%;
            max-width: 100vw;
        }

        .marquee-content {
            display: flex;
            gap: 2rem;
            animation: scroll 60s linear infinite;
            width: max-content;
        }

        .marquee-content:hover {
            animation-play-state: paused;
        }

        .marquee-reverse .marquee-content {
            animation-direction: reverse;
        }

        @keyframes scroll {
            to {
                transform: translateX(-50%);
            }
        }

        /* 3D å¡ç‰‡ */
        .case-card-perspective {
            perspective: 1000px;
        }

        .case-card-inner {
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.5s;
            transform-style: preserve-3d;
        }

        .case-card-perspective:hover .case-card-inner {
            transform: rotateY(5deg) rotateX(5deg) scale(1.02) translateY(-10px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* åŠ¨æ€å…‰æ™• */
        .phone-glow {
            position: absolute;
            inset: 10%;
            filter: blur(40px);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: -1;
        }

        .case-card-perspective:hover .phone-glow {
            opacity: 1;
        }

        /* ç½‘æ ¼èƒŒæ™¯ */
        .bg-grid-slate {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
        }

        /* Glass Morphism Nav Buttons */
        .glass-nav-btn {
            padding: 0.5em 1em;
            font-size: 15px;
            font-weight: 500;
            border-radius: 8px;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            border: 1px solid rgba(255, 255, 255, 0.15);
            /* é»˜è®¤æ·¡è“è‰² */
            background: rgba(0, 194, 255, 0.1);
            color: #00C2FF;
        }
        .glass-nav-green:hover { background: rgba(0, 255, 163, 0.25); box-shadow: 0 0 20px rgba(0, 255, 163, 0.3); border-color: rgba(0, 255, 163, 0.4); color: #00FFA3; }
        .glass-nav-blue:hover { background: rgba(0, 194, 255, 0.25); box-shadow: 0 0 20px rgba(0, 194, 255, 0.3); border-color: rgba(0, 194, 255, 0.4); color: #00C2FF; }
        .glass-nav-purple:hover { background: rgba(189, 0, 255, 0.25); box-shadow: 0 0 20px rgba(189, 0, 255, 0.3); border-color: rgba(189, 0, 255, 0.4); color: #BD00FF; }
        .glass-nav-orange:hover { background: rgba(255, 107, 0, 0.25); box-shadow: 0 0 20px rgba(255, 107, 0, 0.3); border-color: rgba(255, 107, 0, 0.4); color: #FF6B00; }
        .glass-nav-pink:hover { background: rgba(255, 0, 128, 0.25); box-shadow: 0 0 20px rgba(255, 0, 128, 0.3); border-color: rgba(255, 0, 128, 0.4); color: #FF0080; }
        .glass-nav-active { background: rgba(189, 0, 255, 0.2) !important; border-color: rgba(189, 0, 255, 0.5) !important; color: #BD00FF !important; }

        /* æ‰‹æœºç«¯å“åº”å¼ */
        @media (max-width: 767px) {
            .filter-btn {
                font-size: 0.75rem !important;
                padding: 0.375rem 0.75rem !important;
            }
        }
    </style>
</head>

<body x-data="{
    totalImages: 20,
    activeFilter: 'all',
    imgFolder: 'img/cases/app-', // å›¾ç‰‡è·¯å¾„å‰ç¼€

    // ç®€å•çš„åˆ†ç±»æ¨¡æ‹Ÿå‡½æ•°ï¼ˆä¸ºäº†æ¼”ç¤ºç­›é€‰åŠŸèƒ½ï¼‰
    // å®é™…ä½¿ç”¨ä¸­ï¼šä½ å¯ä»¥è®© app-1 åˆ° app-5 æ˜¯ç”µå•†ï¼Œapp-6 åˆ° app-10 æ˜¯ç¤¾äº¤...
    getCategory(i) {
        if (i <= 7) return 'app';
        if (i <= 14) return 'miniapp';
        return 'web';
    },

    // éšæœºç”Ÿæˆæ ‡é¢˜ï¼ˆå› ä¸ºç°åœ¨åªæœ‰å›¾ç‰‡ï¼Œæ²¡æœ‰æ–‡å­—æ•°æ®ï¼‰
    getTitle(i) {
        return 'ç•Œé¢å±•ç¤º Case #' + i;
    }
}">

    <!-- Canvas èƒŒæ™¯åŠ¨ç”» -->
    <div id="wrapper">
        <canvas id="canvas"></canvas>
        <canvas id="canvasbg"></canvas>
    </div>

    <!-- å†…å®¹å±‚ -->
    <div class="content-layer">

    <nav class="fixed w-full z-50 top-0 left-0 border-b border-white/5 bg-black/50 backdrop-blur-xl"
        x-data="{ mobileMenuOpen: false }">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <a href="index.html" class="flex items-center gap-2 group">
                    <svg class="w-6 h-6 text-white/50 group-hover:text-white transition-colors" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    <span class="font-bold text-xl tracking-tight">ZenCode<span
                            class="text-blue-500">.Gallery</span></span>
                </a>
                <div class="hidden md:flex items-center gap-2 ml-auto mr-6">
                    <a href="index.html" class="glass-nav-btn glass-nav-blue">é¦–é¡µ</a>
                    <a href="solutions.html" class="glass-nav-btn glass-nav-blue">è§£å†³æ–¹æ¡ˆ</a>
                    <a href="pricing.html" class="glass-nav-btn glass-nav-green">æœåŠ¡å®šä»·</a>
                    <a href="techstack.html" class="glass-nav-btn glass-nav-blue">æŠ€æœ¯æ ˆ</a>
                    <a href="cases.html" class="glass-nav-btn glass-nav-purple glass-nav-active">æˆåŠŸæ¡ˆä¾‹</a>
                    <a href="experience/experience.html" class="glass-nav-btn glass-nav-orange">å°ç¨‹åºæ¼”ç¤º</a>
                    <a href="about.html" class="glass-nav-btn glass-nav-pink">å…³äºæˆ‘ä»¬</a>
                </div>
                <div class="flex items-center gap-4">
                    <a href="index.html#contact"
                        class="hidden md:inline-block px-5 py-2 rounded-full bg-white text-black text-sm font-bold hover:bg-slate-200 transition">ç«‹å³å’¨è¯¢</a>
                    <button @click="mobileMenuOpen = !mobileMenuOpen" class="md:hidden text-white p-2">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" @click.away="mobileMenuOpen = false"
            x-transition:enter="transition ease-out duration-200"
            x-transition:enter-start="opacity-0 -translate-y-2"
            x-transition:enter-end="opacity-100 translate-y-0"
            class="md:hidden bg-black/95 border-b border-white/10 backdrop-blur-xl">
            <div class="px-4 py-4 space-y-2">
                <a href="index.html" class="block text-sm text-white hover:text-blue-400 py-2">é¦–é¡µ</a>
                <a href="solutions.html" class="block text-sm text-white hover:text-blue-400 py-2">è§£å†³æ–¹æ¡ˆ</a>
                <a href="pricing.html" class="block text-sm text-white hover:text-blue-400 py-2">æœåŠ¡å®šä»·</a>
                <a href="techstack.html" class="block text-sm text-white hover:text-blue-400 py-2">æŠ€æœ¯æ ˆ</a>
                <a href="cases.html" class="block text-sm text-purple-400 font-bold py-2">æˆåŠŸæ¡ˆä¾‹</a>
                <a href="experience/experience.html" class="block text-sm text-white hover:text-blue-400 py-2">å°ç¨‹åºæ¼”ç¤º</a>
                <a href="about.html" class="block text-sm text-white hover:text-blue-400 py-2">å…³äºæˆ‘ä»¬</a>
                <a href="contact.html" class="block text-sm text-white hover:text-blue-400 py-2">è”ç³»æˆ‘ä»¬</a>
            </div>
        </div>
    </nav>

    <header class="relative pt-32 pb-20">
        <div
            class="absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[500px] bg-blue-600/20 rounded-full blur-[120px] pointer-events-none">
        </div>

        <div class="max-w-7xl mx-auto px-4 text-center relative z-10 mb-16">
            <div
                class="inline-flex items-center gap-2 px-3 py-1 border border-blue-500/30 rounded-full text-xs font-medium text-blue-400 mb-6 tracking-widest uppercase bg-blue-900/10 backdrop-blur-md">
                <span class="w-2 h-2 rounded-full bg-blue-500 animate-pulse"></span>
                <span>HALL OF FAME</span>
            </div>
            <h1 class="text-5xl md:text-7xl font-bold font-heading mb-6 tracking-tight">
                <span class="block text-transparent bg-clip-text bg-gradient-to-b from-white to-white/60">ç”¨ä½œå“è¯´è¯</span>
            </h1>
            <p class="text-slate-400 text-lg md:text-xl max-w-2xl mx-auto font-light">è¿™é‡Œå±•ç¤ºçš„æ¯ä¸€ä¸ª APPï¼Œéƒ½æ˜¯ä¸€å°æ­£åœ¨ä¸ºå®¢æˆ·æ—¥å¤œè¿è½¬çš„â€œå°é’æœºâ€ã€‚
            </p>
        </div>

        <div class="relative w-full flex flex-col gap-8 opacity-60 hover:opacity-100 transition-opacity duration-700 py-8">
            <div class="marquee-container w-full overflow-x-clip overflow-y-visible">
                <div class="marquee-content">
                    <template x-for="i in Math.min(totalImages, 10)">
                        <div
                            class="w-40 md:w-56 flex-shrink-0 transform transition-transform hover:scale-105 duration-300 py-4">
                            <img :src="imgFolder + i + '.png'" class="w-full h-auto object-contain drop-shadow-2xl"
                                alt="App Case" loading="lazy">
                        </div>
                    </template>
                    <template x-for="i in Math.min(totalImages, 10)">
                        <div class="w-40 md:w-56 flex-shrink-0 py-4">
                            <img :src="imgFolder + i + '.png'" class="w-full h-auto object-contain drop-shadow-2xl"
                                alt="App Case" loading="lazy">
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </header>

    <main class="relative z-10 bg-neutral-950 border-t border-white/10">
        <div class="absolute inset-0 bg-grid-slate opacity-20 pointer-events-none"></div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24">

            <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-16">
                <button @click="activeFilter = 'all'"
                    :class="activeFilter === 'all' ? 'bg-white text-black' : 'bg-white/5 text-slate-400 hover:bg-white/10 hover:text-white'"
                    class="filter-btn px-6 py-2 rounded-full text-sm font-bold transition-all border border-white/10 backdrop-blur-sm">å…¨éƒ¨æ¡ˆä¾‹</button>

                <button @click="activeFilter = 'app'"
                    :class="activeFilter === 'app' ? 'bg-blue-600 text-white' : 'bg-white/5 text-slate-400 hover:bg-white/10 hover:text-white'"
                    class="filter-btn px-6 py-2 rounded-full text-sm font-bold transition-all border border-white/10 backdrop-blur-sm">ğŸ“± APP</button>

                <button @click="activeFilter = 'miniapp'"
                    :class="activeFilter === 'miniapp' ? 'bg-emerald-600 text-white' : 'bg-white/5 text-slate-400 hover:bg-white/10 hover:text-white'"
                    class="filter-btn px-6 py-2 rounded-full text-sm font-bold transition-all border border-white/10 backdrop-blur-sm">ğŸŸ¢ å°ç¨‹åº</button>

                <button @click="activeFilter = 'web'"
                    :class="activeFilter === 'web' ? 'bg-purple-600 text-white' : 'bg-white/5 text-slate-400 hover:bg-white/10 hover:text-white'"
                    class="filter-btn px-6 py-2 rounded-full text-sm font-bold transition-all border border-white/10 backdrop-blur-sm">ğŸŒ ç½‘é¡µ</button>
            </div>


            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12">

                <template x-for="i in totalImages" :key="i">
                    <div x-show="activeFilter === 'all' || activeFilter === getCategory(i)"
                        class="case-card-perspective group overflow-visible" x-transition:enter="transition ease-out duration-500"
                        x-transition:enter-start="opacity-0 transform scale-90"
                        x-transition:enter-end="opacity-100 transform scale-100">

                        <div class="case-card-inner relative bg-white/5 border border-white/10 rounded-3xl p-8 pb-12 flex flex-col items-center overflow-hidden"
                            :class="{
                                'hover:border-blue-500/50': getCategory(i) === 'app',
                                'hover:border-emerald-500/50': getCategory(i) === 'miniapp',
                                'hover:border-purple-500/50': getCategory(i) === 'web'
                             }">

                            <div class="phone-glow" :class="{
                                    'bg-blue-500/30': getCategory(i) === 'app',
                                    'bg-emerald-500/30': getCategory(i) === 'miniapp',
                                    'bg-purple-500/30': getCategory(i) === 'web'
                                 }"></div>

                            <div class="w-full mb-8 text-left z-10">
                                <div class="text-xs font-mono mb-2 uppercase tracking-wider" :class="{
                                        'text-blue-400': getCategory(i) === 'app',
                                        'text-emerald-400': getCategory(i) === 'miniapp',
                                        'text-purple-400': getCategory(i) === 'web'
                                     }" x-text="getCategory(i) === 'app' ? 'APP' : (getCategory(i) === 'miniapp' ? 'å°ç¨‹åº' : 'ç½‘é¡µ')"></div>

                                <h3 class="text-2xl font-bold text-white mb-1" x-text="getTitle(i)"></h3>
                                <p class="text-slate-400 text-sm">ZenCode Native App Solution</p>
                            </div>

                            <div class="relative w-full max-w-[240px] aspect-[9/19.5]">
                                <img :src="imgFolder + i + '.png'" alt="Case Screenshot"
                                    class="w-full h-full object-contain drop-shadow-2xl transition-transform duration-500 group-hover:scale-[1.03]"
                                    loading="lazy"
                                    onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'text-xs text-red-500\'>Image Not Found</div>'">
                            </div>
                        </div>
                    </div>
                </template>

            </div>
        </div>
    </main>

    <section class="py-24 relative overflow-hidden">
        <div class="absolute inset-0 bg-blue-900/10"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
        <div class="max-w-4xl mx-auto px-4 text-center relative z-10">
            <h2 class="text-4xl md:text-5xl font-bold font-heading mb-8 flex flex-col gap-4">
                <span>æ‚¨çš„æƒ³æ³•ï¼Œ</span>
                <span>æˆ‘ä»¬å¸®æ‚¨å®ç°ã€‚</span>
            </h2>
            <a href="index.html#contact"
                class="inline-flex items-center justify-center px-10 py-5 text-lg font-bold text-white bg-blue-600 rounded-full hover:bg-blue-500 transition-all shadow-[0_0_40px_rgba(37,99,235,0.5)]">å¼€å§‹æ‚¨çš„é¡¹ç›®</a>
        </div>
    </section>

    </div><!-- å…³é—­ content-layer -->

    <!-- Canvas èƒŒæ™¯åŠ¨ç”»è„šæœ¬ -->
    <script>
        // Setup Canvases
        const canvas = document.getElementById('canvas');
        const canvasbg = document.getElementById('canvasbg');

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvasbg.width = window.innerWidth;
            canvasbg.height = window.innerHeight;
        }
        resize();
        window.addEventListener('resize', resize);

        // --- Background Animation Logic ---
        var radMin = 5,
            radMax = 125,
            filledCircle = 60,
            concentricCircle = 30,
            radThreshold = 25;
        var speedMin = 0.3,
            speedMax = 2.5;
        var maxOpacity = 0.6;
        var colors = ['52,168,83', '117,95,147', '199,108,23', '194,62,55', '0,172,212', '120,120,120'],
            bgColors = ['52,168,83', '117,95,147', '199,108,23', '194,62,55', '0,172,212', '120,120,120'],
            circleBorder = 10,
            backgroundLine = bgColors[0];
        var backgroundMlt = 0.85;
        var linkDist = Math.min(canvas.width, canvas.height) / 2.4;
        var lineBorder = 2.5;
        var maxCircles = 12,
            points = [],
            pointsBack = [];

        var circleExp = 1,
            circleExpMax = 1.003,
            circleExpMin = 0.997,
            circleExpSp = 0.00004,
            circlePulse = false;

        window.addEventListener('resize', () => {
            linkDist = Math.min(canvas.width, canvas.height) / 2.4;
        });

        function Circle(background) {
            this.background = background || false;
            this.x = randRange(-canvas.width / 2, canvas.width / 2);
            this.y = randRange(-canvas.height / 2, canvas.height / 2);
            this.radius = background ? hyperRange(radMin, radMax) * backgroundMlt : hyperRange(radMin, radMax);
            this.filled = this.radius < radThreshold ? (randint(0, 100) > filledCircle ? false : 'full') : (randint(0, 100) > concentricCircle ? false : 'concentric');
            this.color = background ? bgColors[randint(0, bgColors.length - 1)] : colors[randint(0, colors.length - 1)];
            this.borderColor = background ? bgColors[randint(0, bgColors.length - 1)] : colors[randint(0, colors.length - 1)];
            this.opacity = 0.05;
            this.speed = background ? randRange(speedMin, speedMax) / backgroundMlt : randRange(speedMin, speedMax);
            this.speedAngle = Math.random() * 2 * Math.PI;
            this.speedx = Math.cos(this.speedAngle) * this.speed;
            this.speedy = Math.sin(this.speedAngle) * this.speed;
            var spacex = Math.abs((this.x - (this.speedx < 0 ? -1 : 1) * (canvas.width / 2 + this.radius)) / this.speedx),
                spacey = Math.abs((this.y - (this.speedy < 0 ? -1 : 1) * (canvas.height / 2 + this.radius)) / this.speedy);
            this.ttl = Math.min(spacex, spacey);
        }

        Circle.prototype.init = function () { Circle.call(this, this.background); };
        function randint(a, b) { return Math.floor(Math.random() * (b - a + 1) + a); }
        function randRange(a, b) { return Math.random() * (b - a) + a; }
        function hyperRange(a, b) { return Math.random() * Math.random() * Math.random() * (b - a) + a; }

        function drawCircle(ctx, circle) {
            var radius = circle.background ? (circle.radius *= circleExp) : (circle.radius /= circleExp);
            ctx.beginPath();
            ctx.arc(circle.x, circle.y, radius * circleExp, 0, 2 * Math.PI, false);
            ctx.lineWidth = Math.max(1, (circleBorder * (radMin - circle.radius)) / (radMin - radMax));
            ctx.strokeStyle = ['rgba(', circle.borderColor, ',', circle.opacity, ')'].join('');
            if (circle.filled == 'full') {
                ctx.fillStyle = ['rgba(', circle.borderColor, ',', circle.background ? circle.opacity * 0.8 : circle.opacity, ')'].join('');
                ctx.fill();
                ctx.lineWidth = 0;
                ctx.strokeStyle = ['rgba(', circle.borderColor, ',', 0, ')'].join('');
            }
            ctx.stroke();
            if (circle.filled == 'concentric') {
                ctx.beginPath();
                ctx.arc(circle.x, circle.y, radius / 2, 0, 2 * Math.PI, false);
                ctx.lineWidth = Math.max(1, (circleBorder * (radMin - circle.radius)) / (radMin - radMax));
                ctx.strokeStyle = ['rgba(', circle.color, ',', circle.opacity, ')'].join('');
                ctx.stroke();
            }
            circle.x += circle.speedx;
            circle.y += circle.speedy;
            if (circle.opacity < (circle.background ? maxOpacity : 1)) circle.opacity += 0.01;
            circle.ttl--;
        }

        function init() {
            for (var i = 0; i < maxCircles * 2; i++) points.push(new Circle());
            for (var i = 0; i < maxCircles; i++) pointsBack.push(new Circle(true));
            window.requestAnimationFrame(draw);
        }

        function draw() {
            if (circlePulse) {
                if (circleExp < circleExpMin || circleExp > circleExpMax) circleExpSp *= -1;
                circleExp += circleExpSp;
            }
            var ctxfr = document.getElementById('canvas').getContext('2d');
            var ctxbg = document.getElementById('canvasbg').getContext('2d');
            ctxfr.globalCompositeOperation = 'destination-over';
            ctxfr.clearRect(0, 0, canvas.width, canvas.height);
            ctxbg.globalCompositeOperation = 'destination-over';
            ctxbg.clearRect(0, 0, canvas.width, canvas.height);
            ctxfr.save();
            ctxfr.translate(canvas.width / 2, canvas.height / 2);
            ctxbg.save();
            ctxbg.translate(canvas.width / 2, canvas.height / 2);

            function renderPoints(ctx, arr) {
                for (var i = 0; i < arr.length; i++) {
                    var circle = arr[i];
                    if (circle.ttl < -20) arr[i].init(arr[i].background);
                    drawCircle(ctx, circle);
                }
                for (var i = 0; i < arr.length - 1; i++) {
                    for (var j = i + 1; j < arr.length; j++) {
                        var deltax = arr[i].x - arr[j].x;
                        var deltay = arr[i].y - arr[j].y;
                        var dist = Math.pow(Math.pow(deltax, 2) + Math.pow(deltay, 2), 0.5);
                        if (dist <= arr[i].radius + arr[j].radius) continue;
                        if (dist < linkDist) {
                            var xi = (arr[i].x < arr[j].x ? 1 : -1) * Math.abs((arr[i].radius * deltax) / dist);
                            var yi = (arr[i].y < arr[j].y ? 1 : -1) * Math.abs((arr[i].radius * deltay) / dist);
                            var xj = (arr[i].x < arr[j].x ? -1 : 1) * Math.abs((arr[j].radius * deltax) / dist);
                            var yj = (arr[i].y < arr[j].y ? -1 : 1) * Math.abs((arr[j].radius * deltay) / dist);
                            ctx.beginPath();
                            ctx.moveTo(arr[i].x + xi, arr[i].y + yi);
                            ctx.lineTo(arr[j].x + xj, arr[j].y + yj);
                            ctx.strokeStyle = ['rgba(', arr[i].borderColor, ',', Math.min(arr[i].opacity, arr[j].opacity) * ((linkDist - dist) / linkDist), ')'].join('');
                            ctx.lineWidth = (arr[i].background ? lineBorder * backgroundMlt : lineBorder) * ((linkDist - dist) / linkDist);
                            ctx.stroke();
                        }
                    }
                }
            }
            renderPoints(ctxfr, points);
            renderPoints(ctxbg, pointsBack);
            ctxfr.restore();
            ctxbg.restore();
            window.requestAnimationFrame(draw);
        }
        init();
    </script>

</body>

</html>